<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz de Pol√≠gonos</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(120deg, #8ec5fc 0%, #e0c3fc 100%);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
      color: #333;
    }

    /* DECORA√á√ïES */
    .decor {
      position: absolute;
      z-index: 0;
      opacity: 0.15;
      border-radius: 50%;
      animation: float 10s infinite ease-in-out;
      background: #fff;
    }
    .decor.circle1 {
      width: 200px;
      height: 200px;
      top: 10%;
      left: 5%;
    }
    .decor.circle2 {
      width: 300px;
      height: 300px;
      bottom: 5%;
      right: 10%;
      animation-delay: 3s;
    }
    .decor.blob {
      width: 400px;
      height: 400px;
      background: radial-gradient(#fff, transparent);
      top: 40%;
      left: -100px;
      border-radius: 50%;
      animation-delay: 1.5s;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    /* CABE√áALHO E RODAP√â */
    header, footer {
      text-align: center;
      padding: 20px;
      color: white;
      font-weight: bold;
      letter-spacing: 1px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      position: relative;
      z-index: 2;
    }
    footer {
      font-size: 14px;
    }

    /* CONTE√öDO CENTRAL */
    .container {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 40px;
      width: 90%;
      max-width: 600px;
      margin: 40px auto;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(10px);
      text-align: center;
      animation: fadeIn 1s ease forwards;
      transform: scale(0.95);
      opacity: 0;
      position: relative;
      z-index: 2;
    }
    .container.show {
      transform: scale(1);
      opacity: 1;
    }
    h1, h2 {
      margin-bottom: 20px;
    }
    input[type="text"] {
      padding: 12px;
      width: 100%;
      border-radius: 10px;
      border: none;
      font-size: 16px;
      margin-bottom: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    button {
      padding: 12px 24px;
      background: #7f53ac;
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.2s, background 0.3s;
      margin-top: 10px;
    }
    button:hover {
      background: #6b3fa0;
      transform: scale(1.05);
    }
    #respostas button {
      display: block;
      width: 100%;
      margin-top: 10px;
      background: #ffffff55;
      color: #333;
      border: 1px solid #999;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s;
    }
    #respostas button:hover:not(:disabled) {
      background: #ffffff88;
    }
    #respostas button:disabled {
      cursor: default;
      opacity: 0.7;
    }
    #fase {
      font-weight: bold;
      margin-bottom: 10px;
      font-size: 18px;
    }
    #resultado-final {
      font-size: 18px;
      margin-top: 30px;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    /* Avatar preview canto superior direito */
    #avatar-preview {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(8px);
      border-radius: 12px;
      padding: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      z-index: 999;
      display: none;
    }
    #avatar-preview img {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      display: block;
    }

    /* Customiza√ß√£o avatar container - apenas tela inicial */
    #custom-avatar-container {
      max-width: 400px;
      margin: 20px auto 40px;
      padding: 20px;
      background: rgba(255,255,255,0.2);
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
      backdrop-filter: blur(10px);
      text-align: center;
      color: #333;
    }
    #custom-avatar-container img {
      width: 150px;
      border-radius: 50%;
      margin-bottom: 20px;
    }
    #custom-avatar-container label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
      margin: 8px 0;
      font-size: 14px;
    }
    #custom-avatar-container select {
      flex: 1;
      margin-left: 12px;
      padding: 6px 10px;
      font-size: 14px;
      border-radius: 8px;
      border: none;
      background: #fffccc;
      color: #333;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: background 0.3s;
    }
    #custom-avatar-container select:hover {
      background: #fffddd;
    }
  </style>
</head>
<body>

  <!-- DECORA√á√ïES -->
  <div class="decor circle1"></div>
  <div class="decor circle2"></div>
  <div class="decor blob"></div>

  <!-- CABE√áALHO -->
  <header>
    <h1>üß† Desafio de Pol√≠gonos</h1>
    <p>Mostre seu conhecimento em geometria!</p>
  </header>

  <!-- TELA INICIAL -->
  <div id="tela-inicial" class="container show">
    <h2>Digite seu nome para come√ßar:</h2>
    <input type="text" id="nome" placeholder="Seu nome" />
    
    <!-- Customiza√ß√£o do avatar somente aqui -->
    <div id="custom-avatar-container">
      <h3>Customize seu Avatar</h3>
      <img id="avatarImg" src="" alt="Avatar Preview" />

      <label>Cabelo:
        <select id="topType">
          <option value="ShortHairShortFlat">Curto</option>
          <option value="LongHairStraight">Longo</option>
          <option value="NoHair">Careca</option>
          <option value="Hat">Chap√©u</option>
          <option value="Turban">Turbante</option>
          <option value="WinterHat1">Gorro</option>
        </select>
      </label>

      <label>Acess√≥rio:
        <select id="accessoriesType">
          <option value="Blank">Nenhum</option>
          <option value="PrescriptionGlasses">√ìculos</option>
          <option value="Kurt">Kurt</option>
          <option value="Round">Redondo</option>
          <option value="Sunglasses">√ìculos escuros</option>
        </select>
      </label>

      <label>Cor do cabelo:
        <select id="hairColor">
          <option value="Black">Preto</option>
          <option value="Brown">Castanho</option>
          <option value="Blonde">Loiro</option>
          <option value="Red">Ruivo</option>
          <option value="Gray">Cinza</option>
        </select>
      </label>

      <label>Barba:
        <select id="facialHairType">
          <option value="Blank">Nenhuma</option>
          <option value="BeardMedium">Barba m√©dia</option>
          <option value="BeardLight">Barba leve</option>
          <option value="MoustacheFancy">Bigode chique</option>
          <option value="MoustacheMagnum">Bigode grande</option>
        </select>
      </label>

      <label>Cor da barba:
        <select id="facialHairColor">
          <option value="Black">Preto</option>
          <option value="Brown">Castanho</option>
          <option value="Blonde">Loiro</option>
          <option value="Red">Ruivo</option>
          <option value="Gray">Cinza</option>
        </select>
      </label>

      <label>Cor da pele:
        <select id="skinColor">
          <option value="Light">Clara</option>
          <option value="Brown">Morena</option>
          <option value="DarkBrown">Escura</option>
          <option value="Pale">P√°lida</option>
          <option value="Yellow">Amarela</option>
        </select>
      </label>

      <label>Roupa:
        <select id="clotheType">
          <option value="ShirtCrewNeck">Camiseta</option>
          <option value="Hoodie">Moletom</option>
          <option value="GraphicShirt">Camiseta gr√°fica</option>
          <option value="BlazerShirt">Blazer</option>
          <option value="Overall">Macac√£o</option>
        </select>
      </label>

      <label>Cor da roupa:
        <select id="clotheColor">
          <option value="Black">Preto</option>
          <option value="Blue01">Azul claro</option>
          <option value="Blue02">Azul escuro</option>
          <option value="Gray01">Cinza claro</option>
          <option value="Gray02">Cinza escuro</option>
          <option value="PastelBlue">Azul pastel</option>
          <option value="PastelGreen">Verde pastel</option>
          <option value="PastelOrange">Laranja pastel</option>
          <option value="PastelRed">Vermelho pastel</option>
          <option value="PastelYellow">Amarelo pastel</option>
          <option value="Pink">Rosa</option>
          <option value="Red">Vermelho</option>
          <option value="White">Branco</option>
          <option value="Yellow">Amarelo</option>
        </select>
      </label>
    </div>

    <button onclick="iniciarQuiz()">Come√ßar Quiz</button>
  </div>

  <!-- QUIZ -->
  <div id="quiz-container" class="container" style="display:none;">
    <div id="avatar-preview">
      <img id="avatar-image" src="" alt="Avatar" />
    </div>

    <div id="fase"></div>
    <div id="saudacao"></div>

    <h2 id="pergunta"></h2>
    <div id="respostas"></div>
    <button id="proxima" onclick="proximaPergunta()" style="display:none;">Pr√≥xima</button>

    <div id="resultado-final" style="display:none;"></div>
  </div>

  <!-- RODAP√â -->
  <footer>
    Feito por Pedro Lucca ‚Äì Quiz Pol√≠gonos
  </footer>

  <script>
    // Vari√°veis globais
    let nomeUsuario = "";
    let faseAtual = 1;
    let perguntaAtual = 0;
    let pontuacao = 0;
    let perguntas = [];

    // Perguntas organizadas por fase
    const todasPerguntas = {
      1: [
        { pergunta: "Quantos lados tem um tri√¢ngulo?", opcoes: ["2", "3", "4", "5"], correta: "3" },
        { pergunta: "Qual o nome do pol√≠gono de quatro lados?", opcoes: ["Quadrado", "Pent√°gono", "Hex√°gono", "Tri√¢ngulo"], correta: "Quadrado" },
        { pergunta: "Quantos lados tem um pent√°gono?", opcoes: ["5", "6", "7", "8"], correta: "5" },
        { pergunta: "Um hex√°gono tem quantos lados?", opcoes: ["6", "5", "4", "7"], correta: "6" },
        { pergunta: "Qual desses √© um pol√≠gono de 8 lados?", opcoes: ["Oct√≥gono", "Pent√°gono", "Hex√°gono", "Hept√°gono"], correta: "Oct√≥gono" },
        { pergunta: "Qual pol√≠gono tem todos os lados iguais e todos os √¢ngulos iguais?", opcoes: ["Regular", "Irregular", "Concavo", "Convexo"], correta: "Regular" },
        { pergunta: "Qual pol√≠gono tem pelo menos um √¢ngulo maior que 180¬∞?", opcoes: ["C√¥ncavo", "Convexo", "Regular", "Irregular"], correta: "C√¥ncavo" },
        { pergunta: "Quantas diagonais tem um quadrado?", opcoes: ["2", "4", "6", "0"], correta: "2" }
      ],
      2: [
        { pergunta: "Quantas diagonais tem um pent√°gono?", opcoes: ["5", "10", "7", "15"], correta: "5" },
        { pergunta: "A soma dos √¢ngulos internos de um tri√¢ngulo √©?", opcoes: ["180¬∞", "90¬∞", "360¬∞", "270¬∞"], correta: "180¬∞" },
        { pergunta: "Qual √© a soma dos √¢ngulos internos de um quadrado?", opcoes: ["360¬∞", "180¬∞", "540¬∞", "720¬∞"], correta: "360¬∞" },
        { pergunta: "O que √© um pol√≠gono convexo?", opcoes: ["Todos os √¢ngulos internos < 180¬∞", "Pelo menos um √¢ngulo > 180¬∞", "Lados desiguais", "√Çngulos retos"], correta: "Todos os √¢ngulos internos < 180¬∞" },
        { pergunta: "Qual o n√∫mero de diagonais de um hex√°gono?", opcoes: ["9", "6", "12", "15"], correta: "9" },
        { pergunta: "Quantos lados tem um hept√°gono?", opcoes: ["7", "6", "8", "9"], correta: "7" },
        { pergunta: "Quantos lados tem um ene√°gono?", opcoes: ["9", "8", "10", "11"], correta: "9" },
        { pergunta: "Qual √© a f√≥rmula para calcular o n√∫mero de diagonais de um pol√≠gono?", opcoes: ["n(n-3)/2", "n(n+3)/2", "n(n-2)/2", "2n"], correta: "n(n-3)/2" }
      ],
      // Mais fases podem ser adicionadas
    };

    // Atualiza o avatar da tela inicial
    function atualizarAvatar() {
      const topType = document.getElementById("topType").value;
      const accessoriesType = document.getElementById("accessoriesType").value;
      const hairColor = document.getElementById("hairColor").value;
      const facialHairType = document.getElementById("facialHairType").value;
      const facialHairColor = document.getElementById("facialHairColor").value;
      const skinColor = document.getElementById("skinColor").value;
      const clotheType = document.getElementById("clotheType").value;
      const clotheColor = document.getElementById("clotheColor").value;

      const url = `https://avataaars.io/?avatarStyle=Transparent&topType=${topType}&accessoriesType=${accessoriesType}&hairColor=${hairColor}&facialHairType=${facialHairType}&facialHairColor=${facialHairColor}&skinColor=${skinColor}&clotheType=${clotheType}&clotheColor=${clotheColor}`;

      document.getElementById("avatarImg").src = url;
    }

    // Gera o URL do avatar selecionado para o quiz
    function gerarAvatarURL() {
      const topType = document.getElementById("topType").value;
      const accessoriesType = document.getElementById("accessoriesType").value;
      const hairColor = document.getElementById("hairColor").value;
      const facialHairType = document.getElementById("facialHairType").value;
      const facialHairColor = document.getElementById("facialHairColor").value;
      const skinColor = document.getElementById("skinColor").value;
      const clotheType = document.getElementById("clotheType").value;
      const clotheColor = document.getElementById("clotheColor").value;

      return `https://avataaars.io/?avatarStyle=Transparent&topType=${topType}&accessoriesType=${accessoriesType}&hairColor=${hairColor}&facialHairType=${facialHairType}&facialHairColor=${facialHairColor}&skinColor=${skinColor}&clotheType=${clotheType}&clotheColor=${clotheColor}`;
    }

    // Atualiza o avatar preview ao alterar op√ß√µes
    const selects = document.querySelectorAll("#custom-avatar-container select");
    selects.forEach(s => s.addEventListener("change", atualizarAvatar));

    // Inicializa o avatar ao carregar a p√°gina
    window.onload = () => {
      atualizarAvatar();
    };

    // Iniciar quiz
    function iniciarQuiz() {
      nomeUsuario = document.getElementById("nome").value.trim();
      if (nomeUsuario.length < 1) {
        alert("Por favor, digite seu nome!");
        return;
      }
      document.getElementById("tela-inicial").style.display = "none";
      document.getElementById("quiz-container").style.display = "block";

      const avatarURL = gerarAvatarURL();
      const avatarPreview = document.getElementById("avatar-preview");
      const avatarImage = document.getElementById("avatar-image");
      avatarImage.src = avatarURL;
      avatarPreview.style.display = "block";

      perguntaAtual = 0;
      pontuacao = 0;
      faseAtual = 1; // Come√ßa na fase 1
      perguntas = todasPerguntas[faseAtual];

      atualizarSaudacao();
      mostrarPergunta();
    }

    // Atualiza sauda√ß√£o com nome e fase
    function atualizarSaudacao() {
      document.getElementById("saudacao").innerText = `Ol√°, ${nomeUsuario}! Vamos come√ßar a fase ${faseAtual}.`;
    }

    // Mostra a pergunta atual
    function mostrarPergunta() {
      const perguntaObj = perguntas[perguntaAtual];

      document.getElementById("fase").innerText = `Fase ${faseAtual}`;
      document.getElementById("pergunta").innerText = perguntaObj.pergunta;

      const respostasDiv = document.getElementById("respostas");
      respostasDiv.innerHTML = "";

      perguntaObj.opcoes.forEach((resposta, i) => {
        const btn = document.createElement("button");
        btn.innerText = resposta;
        btn.onclick = () => responder(i);
        respostasDiv.appendChild(btn);
      });

      document.getElementById("proxima").style.display = "none";
      document.getElementById("resultado-final").style.display = "none";
      document.getElementById("pergunta").style.display = "block";
      document.getElementById("respostas").style.display = "block";
    }

    // Sons de acerto e erro (coloque os arquivos na mesma pasta ou ajuste o caminho)
    const somAcerto = new Audio('sucessound.mp3');
    const somErro = new Audio('errorsound.mp3');

    // Fun√ß√£o para responder uma pergunta
    function responder(indiceEscolhido) {
      const perguntaObj = perguntas[perguntaAtual];
      const respostaEscolhida = perguntaObj.opcoes[indiceEscolhido];

      if (respostaEscolhida === perguntaObj.correta) {
        pontuacao++;
        somAcerto.play();
      } else {
        somErro.play();
      }

      // Desabilitar bot√µes ap√≥s resposta
      const botoes = document.querySelectorAll("#respostas button");
      botoes.forEach(btn => btn.disabled = true);

      // Mostrar qual foi a resposta correta
      botoes.forEach(btn => {
        if (btn.innerText === perguntaObj.correta) {
          btn.style.backgroundColor = "#4caf50"; // verde
          btn.style.color = "white";
        } else if (btn.innerText === respostaEscolhida) {
          btn.style.backgroundColor = "#f44336"; // vermelho
          btn.style.color = "white";
        }
      });

      document.getElementById("proxima").style.display = "inline-block";
    }

    // Fun√ß√£o para passar para a pr√≥xima pergunta ou fase
    function proximaPergunta() {
      perguntaAtual++;

      if (perguntaAtual >= perguntas.length) {
        // Fim da fase atual
        mostrarResultadoFase();
      } else {
        mostrarPergunta();
      }
    }

    // Mostra resultado da fase atual e pergunta se quer continuar
    function mostrarResultadoFase() {
      document.getElementById("pergunta").style.display = "none";
      document.getElementById("respostas").style.display = "none";
      document.getElementById("proxima").style.display = "none";

      const resultadoFinal = document.getElementById("resultado-final");
      resultadoFinal.style.display = "block";
      resultadoFinal.innerHTML = `
        Parab√©ns, ${nomeUsuario}! Voc√™ terminou a fase ${faseAtual} com ${pontuacao} acertos de ${perguntas.length}.
        <br><br>
        <button onclick="proximaFase()">Pr√≥xima Fase</button>
        <button onclick="reiniciarQuiz()">Reiniciar Quiz</button>
      `;
    }

    // Vai para pr√≥xima fase, se existir
    function proximaFase() {
      faseAtual++;
      if (!todasPerguntas[faseAtual]) {
        alert("Parab√©ns! Voc√™ terminou todas as fases dispon√≠veis!");
        reiniciarQuiz();
        return;
      }
      perguntas = todasPerguntas[faseAtual];
      perguntaAtual = 0;
      pontuacao = 0;
      atualizarSaudacao();
      mostrarPergunta();

      // Esconde resultado e mostra quiz
      document.getElementById("resultado-final").style.display = "none";
      document.getElementById("pergunta").style.display = "block";
      document.getElementById("respostas").style.display = "block";
      document.getElementById("proxima").style.display = "none";
    }

    // Reinicia o quiz para a fase 1
    function reiniciarQuiz() {
      faseAtual = 1;
      perguntaAtual = 0;
      pontuacao = 0;
      perguntas = todasPerguntas[faseAtual];

      atualizarSaudacao();
      mostrarPergunta();

      document.getElementById("resultado-final").style.display = "none";
      document.getElementById("pergunta").style.display = "block";
      document.getElementById("respostas").style.display = "block";
      document.getElementById("proxima").style.display = "none";
    }
  </script>
</body>
</html>
